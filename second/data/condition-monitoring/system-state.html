<!--3.1.状态监控-系统状态-->
<div id="system-state" class="page-content-wrapper">
    <div class="page-content condition-wrapper">
        <!--第一行 页签-->
        <div class="portlet tab-border">
            <div class="portlet-title">
                <ul class="nav nav-tabs " role="tablist">
                    <li role="presentation" class="active">
                        <a href="#system-information" aria-controls="home" role="tab" data-toggle="tab">系统信息</a>
                        <span class="selected"></span>
                    </li>
                    <li role="presentation">
                        <a href="#session-information" aria-controls="home" role="tab" data-toggle="tab">网络信息</a>
                        <span></span>
                    </li>
                </ul>
            </div>
        </div>
        <!--第二行 主内容块-->
        <div class="tab-content">
            <!--系统信息块-->
            <div role="tabpanel" class="tab-pane active" id="system-information">
                <!--第一行 主机信息-->
                <div class="portlet bordered">
                    <div class="portlet-title">
                        <div class="caption">
                            <span class="bold">主机信息</span>
                        </div>
                    </div>
                    <div class="portlet-body">
                        <div class="row">
                            <!--内容-->
                            <div class="col-xs-3">
                                <ul class="host-text">
                                    <li>主机名称：三合一产品</li>
                                    <li>运行时间：<span class="days">10天5小时58分钟</span></li>
                                    <li>序&nbsp;列&nbsp;号&nbsp;：45467121244576744</li>
                                </ul>
                            </div>
                            <!--进度条-->
                            <div class="col-xs-9">
                                <ul class="progress-bar-group">
                                    <li>
                                        <p>CUP：</p>
                                        <div class="progress">
                                            <div class="progress-bar" role="progressbar" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                        <p class="success"></p>
                                    </li>
                                    <li>
                                        <p>内存：</p>
                                        <div class="progress">
                                            <div class="progress-bar" role="progressbar" aria-valuenow="43" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                        <p class="warning"></p>
                                    </li>
                                    <li>
                                        <p>硬盘：</p>
                                        <div class="progress">
                                            <div class="progress-bar" role="progressbar" aria-valuenow="54" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                        <p class="danger"></p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!--第二行 版本信息+许可状态-->
                <div class="row">
                    <!--版本信息-->
                    <div class="col-sm-6">
                        <div class="portlet bordered">
                            <div class="portlet-title">
                                <div class="caption">
                                    <span class="caption-subject bold uppercase">版本信息</span>
                                </div>
                            </div>
                            <div class="portlet-body">
                                <div class="v-information">
                                    <ul class="information pull-left">
                                        <li>系&nbsp;&nbsp;统&nbsp;&nbsp;版&nbsp;&nbsp;本&nbsp;&nbsp;&nbsp;：&nbsp;1.0.0.1</li>
                                        <li>引&nbsp;&nbsp;擎&nbsp;&nbsp;版&nbsp;&nbsp;本&nbsp;&nbsp;&nbsp;：&nbsp;version1</li>
                                        <li>IPS特征库版本：&nbsp;Releasel.0</li>
                                        <li>AV特征库版本：&nbsp;Releasel.0</li>
                                        <li>WAF&nbsp;&nbsp;版&nbsp;&nbsp;本&nbsp;&nbsp;&nbsp;：&nbsp;Releasel.0</li>
                                    </ul>
                                    <button type="button" class="pull-right information-btn">版本升级</button>
                                    <div class="clearfix"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--许可状态-->
                    <div class="col-sm-6">
                        <div class="portlet bordered">
                            <div class="portlet-title">
                                <div class="caption">
                                    <span class="caption-subject bold uppercase">许可状态</span>
                                </div>
                            </div>
                            <div class="portlet-body">
                                <div class="s-license">
                                    <ul class="information pull-left">
                                        <li>系&nbsp;&nbsp;统&nbsp;&nbsp;版&nbsp;&nbsp;本&nbsp;&nbsp;&nbsp;：&nbsp;1.0.0.1</li>
                                        <li>引&nbsp;&nbsp;擎&nbsp;&nbsp;版&nbsp;&nbsp;本&nbsp;&nbsp;&nbsp;：&nbsp;version1</li>
                                        <li>IPS特征库版本：&nbsp;Releasel.0</li>
                                        <li>AV特征库版本：&nbsp;Releasel.0</li>
                                        <li>WAF&nbsp;&nbsp;版&nbsp;&nbsp;本&nbsp;&nbsp;&nbsp;：&nbsp;Releasel.0</li>
                                    </ul>
                                    <button type="button" class="pull-right information-btn">更新许可</button>
                                    <div class="clearfix"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--第三行 主机信息图表-->
                <div class="portlet bordered">
                    <div class="portlet-title">
                        <div class="caption">
                            <span class="caption-subject bold uppercase">主机信息</span>
                            <p class="pull-right">
                                <span>查询区间</span>
                                <select id="selectEd">
                                    <option value="">请选择</option>
                                    <option value="300000">5分钟</option>
                                    <option value="3600000">1小时</option>
                                    <option value="86400000">1天</option>
                                    <option value="2592000000">1个月</option>
                                </select>
                            </p>
                        </div>
                    </div>
                    <div class="portlet-body">
                        <div id="h-information" class="one-canvas"></div>
                    </div>
                </div>
            </div>
            <!--网络信息块-->
            <div role="tabpanel" class="tab-pane" id="session-information">
                <!--第一行 会话信息-->
                <div class="portlet bordered tab-pane" >
                    <div class="portlet-title">
                        <div class="caption">
                            <span class="bold">会话信息</span>
                            <p class="pull-right">
                                <span>查询区间</span>
                                <select id="selectEd1">
                                    <option value="">请选择</option>
                                    <option value="300000">5分钟</option>
                                    <option value="3600000">1小时</option>
                                    <option value="86400000">1天</option>
                                    <option value="2592000000">1个月</option>
                                </select>
                            </p>
                        </div>
                    </div>
                    <div class="portlet-body">
                        <div class="row">
                            <div class="col-xs-6">
                                <div id="http-concurrent" class="two-canvas"></div>
                            </div>
                            <div class="col-xs-6">
                                <div id="http-create" class="two-canvas"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--第二行 接口信息-->
                <div class="portlet bordered tab-pane" >
                    <div class="portlet-title">
                        <div class="caption">
                            <span class="caption-subject bold uppercase">接口信息</span>
                        </div>
                    </div>
                    <table class="portlet-table active " id="session">
                        <thead>
                        <tr>
                            <td>接口</td>
                            <td>IP</td>
                            <td>状态</td>
                            <td>工作模式</td>
                            <td>TX packet</td>
                            <td>Error packet</td>
                            <td>Rx packet</td>
                            <td>Error</td>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>
                        <tfoot>
                        <tr><td colspan="8"><ul></ul></td></tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    var progressBarTime=0,//进度条定时器标记
        oldTime = new Date("2015/9/12 13:00:05"),//开始使用产品的日期
        bars=$(".progress-bar"),//进度条
        system=$("#system-information"),//系统信息
        select=$("#selectEd"),//时间区间选择框
        select1=$("#selectEd1");//时间区间选择框

    if(system.css("display")==="block"){
        setTimeout(hInformation(), 200);//主机信息显示
        //时间区间选择
        select.on("change", function () { hInformation($(this).val()); });
        select.val("");//置空下拉框
        //使用产品天数
        setInterval(function () {
            var newTime = new Date();
            $(".host-text .days").text(timeDifference(oldTime, newTime));
        }, 200);
        //进度条
        progressBar();
        clearInterval(progressBarTime);
        progressBarTime = setInterval(progressBar, 15000);//进度条每隔15秒更新一次
    }
    //页签切换
    $(".nav-tabs li a").click(function () {
        var href = $(this)[0].hash;
        if (href === "#session-information") {//状态监控——系统状态——网络信息
            select1.on("change", function () {
                httpConcurrent($(this).val());
                httpCreate($(this).val());
            });
            setTimeout(httpConcurrent, 200);//HTTP并发连接数
            setTimeout(httpCreate, 200);//HTTP新建连接数
            addData("session");//接口信息表
            select.val("");//置空下拉框
        } else if (href === "#system-information") {//状态监控——系统状态——系统信息
            setTimeout(hInformation, 200);//主机信息
            select1.val("");//置空下拉框
        }
        $(this).siblings("span").addClass("selected");//标签下标识
    });
</script>