<!--1.配置向导-->
<div id="configuration-wizard" class="page-content-wrapper content-wrapper">
    <div class="page-content portlet-wrapper">
        <!--第一行 页签-->
        <div class="portlet tab-border">
            <div class="portlet-title">
                <ul class="nav nav-tabs">
                    <li class="active">
                        <a>配置流程</a>
                        <span class="selected"></span>
                    </li>
                </ul>
            </div>
        </div>
        <!--第二行 正文-->
        <div class="tab-content">
            <div class="portlet">
                <!--每一步的标签-->
                <div class="portlet-title wizard-step tab-border">
                    <div>
                        <div class="line" ></div>
                        <div class="step" role="tablist">
                            <div role="presentation">
                                <p>Step1</p>
                                <a href="#wizard-license" aria-controls="home" role="tab" data-toggle="tab">
                                    <img src="imgs/step1.png" />
                                    <img src="imgs/step1s.png" class="active"/>
                                </a>
                                <p>欢迎</p>
                            </div>
                        </div>
                        <div class="step" role="tablist">
                            <div role="presentation">
                                <p>Step2</p>
                                <a href="#deployment-patterns" aria-controls="home" role="tab" data-toggle="">
                                    <img src="imgs/step2.png" class="active"/>
                                    <img src="imgs/step2s.png"/>
                                </a>
                                <p>部署模式</p>
                            </div>
                        </div>
                        <div class="step" role="tablist">
                            <div role="presentation">
                                <p>Step3</p>
                                <a href="#network-configuration" aria-controls="home" role="tab" data-toggle="">
                                    <img src="imgs/step3.png" class="active"/>
                                    <img src="imgs/step3s.png"/>
                                </a>
                                <p>网络配置</p>
                            </div>
                        </div>
                        <div class="step" role="tablist">
                            <div role="presentation">
                                <p>Step4</p>
                                <a href="#policy-configuration" aria-controls="home" role="tab" data-toggle="">
                                    <img src="imgs/step4.png" class="active"/>
                                    <img src="imgs/step4s.png"/>
                                </a>
                                <p>策略配置</p>
                            </div>
                        </div>
                        <div class="step" role="tablist">
                            <div role="presentation">
                                <p>Step5</p>
                                <a href="#profile" aria-controls="home" role="tab" data-toggle="">
                                    <img src="imgs/step6.png" class="active"/>
                                    <img src="imgs/step6s.png"/>
                                </a>
                                <p>概要</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-content">
                    <div id="wizard-license" role="tabpanel" class="tab-pane active"></div>
                    <div id="deployment-patterns" role="tabpanel" class="tab-pane"></div>
                    <div id="network-configuration" role="tabpanel" class="tab-pane"></div>
                    <div id="policy-configuration" role="tabpanel" class="tab-pane"></div>
                    <div id="profile" role="tabpanel" class="tab-pane"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    //设置主内容框的高度
    heightSet();
    $("#wizard-license").load("data/configuration-wizard/license.html");
    //页签切换
    $('[role="presentation"]').click(function (e) {
        e.preventDefault();
        var imgShow=$(this)[0].children[1].children[1],
                imgHide=$(this)[0].children[1].children[0],
                a=$(this).parent().siblings().children().children("a"),
                toggle=$(this)[0].children[1].dataset.toggle;
        if(toggle==="tab"){
            imgShow.className="active";
            imgHide.className="";
            $.each(a,function(){
                $(this)[0].children[0].className="active";
                $(this)[0].children[1].className="";
            })
        }
    });
    function next(btn){
        var id=$(btn).parents(".tab-pane")[0].id,
                wizardLicense=$('[href="#wizard-license"]'),
                deploymentPatterns=$('[href="#deployment-patterns"]'),
                networkConfiguration=$('[href="#network-configuration"]'),
                policyConfiguration=$('[href="#policy-configuration"]'),
                profile=$('[href="#profile"]');
        if(id==="wizard-license"){
            deploymentPatterns.attr("data-toggle","tab").children()[1].className="active";
            deploymentPatterns[0].children[0].className="";
            wizardLicense[0].children[0].className="active";
            wizardLicense[0].children[1].className="";
            $("#deployment-patterns").addClass("active").load("data/configuration-wizard/deployment-patterns.html")
                    .siblings().removeClass("active");
        }else if(id==="deployment-patterns"){
            networkConfiguration.attr("data-toggle","tab").children()[1].className="active";
            networkConfiguration[0].children[0].className="";
            deploymentPatterns[0].children[0].className="active";
            deploymentPatterns[0].children[1].className="";
            var idName=$(".mode-content.active")[0].id;
            $("#network-configuration").addClass("active").load("data/configuration-wizard/network-configuration/network-configuration-"+idName+".html")
                    .siblings().removeClass("active");
        }else if(id==="network-configuration"){
            policyConfiguration.attr("data-toggle","tab").children()[1].className="active";
            policyConfiguration[0].children[0].className="";
            networkConfiguration[0].children[0].className="active";
            networkConfiguration[0].children[1].className="";
            $("#policy-configuration").addClass("active").load("data/configuration-wizard/policy-configuration.html")
                    .siblings().removeClass("active");
        }else if(id==="policy-configuration"){
            profile.attr("data-toggle","tab").children()[1].className="active";
            profile[0].children[0].className="";
            policyConfiguration[0].children[0].className="active";
            policyConfiguration[0].children[1].className="";
            $("#profile").addClass("active").load("data/configuration-wizard/profile.html")
                    .siblings().removeClass("active");
        }
    }
    function previous(btn){
        var id=$(btn).parents(".tab-pane")[0].id,
                wizardLicense=$('[href="#wizard-license"]'),
                deploymentPatterns=$('[href="#deployment-patterns"]'),
                networkConfiguration=$('[href="#network-configuration"]'),
                policyConfiguration=$('[href="#policy-configuration"]'),
                profile=$('[href="#profile"]');
        if(id==="deployment-patterns"){
            deploymentPatterns.attr("data-toggle","").children()[0].className="active";
            deploymentPatterns[0].children[1].className="";
            wizardLicense[0].children[1].className="active";
            wizardLicense[0].children[0].className="";
            $("#wizard-license").addClass("active").load("data/configuration-wizard/license.html")
                    .siblings().removeClass("active");
        }else if(id==="network-configuration"){
            networkConfiguration.attr("data-toggle","").children()[0].className="active";
            networkConfiguration[0].children[1].className="";
            deploymentPatterns[0].children[1].className="active";
            deploymentPatterns[0].children[0].className="";
            $("#deployment-patterns").addClass("active").load("data/configuration-wizard/deployment-patterns.html")
                    .siblings().removeClass("active");
        }else if(id==="policy-configuration"){
            policyConfiguration.attr("data-toggle","").children()[0].className="active";
            policyConfiguration[0].children[1].className="";
            networkConfiguration[0].children[1].className="active";
            networkConfiguration[0].children[0].className="";
            var idName=$(".mode-content.active")[0].id;
            console.log(idName);
            $("#network-configuration").addClass("active").load("data/configuration-wizard/network-configuration/network-configuration-"+idName+".html")
                    .siblings().removeClass("active");
        }else if(id==="profile"){
            profile.attr("data-toggle","").children()[1].className="";
            profile[0].children[0].className="active";
            policyConfiguration[0].children[0].className="";
            policyConfiguration[0].children[1].className="active";
            $("#policy-configuration").addClass("active").load("data/configuration-wizard/policy-configuration.html")
                    .siblings().removeClass("active");
        }
    }
</script>