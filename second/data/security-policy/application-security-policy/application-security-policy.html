<!--5.3安全策略-应用安全策略-->
<div id="application-security-policy" class="page-content-wrapper content-wrapper">
    <div class="page-content portlet-wrapper">
        <!--第一行 页签-->
        <div class="portlet tab-border">
            <div class="portlet-title">
                <ul class="nav nav-tabs " role="tablist">
                    <li role="presentation" class="active">
                        <a href="#WAF-strategy" aria-controls="home" role="tab" data-toggle="tab">WAF策略</a>
                        <span class="selected"></span>
                    </li>
                    <li role="presentation">
                        <a href="#application-characteristics" aria-controls="home" role="tab" data-toggle="tab">特征库</a>
                        <span></span>
                    </li>
                    <li role="presentation">
                        <a href="#exceptions-configuration" aria-controls="home" role="tab" data-toggle="tab">例外配置</a>
                        <span></span>
                    </li>
                    <li role="presentation">
                        <a href="#WEB-leakage" aria-controls="home" role="tab" data-toggle="tab">WEB漏扫</a>
                        <span></span>
                    </li>
                    <li role="presentation">
                        <a href="#study-configuration" aria-controls="home" role="tab" data-toggle="tab">自学习配置</a>
                        <span></span>
                    </li>
                </ul>
            </div>
        </div>
        <!--第二行 页签切换块-->
        <div class="tab-content tip-content">
            <!--WAF策略-->
            <div role="tabpanel" class="tab-pane active" id="WAF-strategy"></div>
            <!--WAF策略添加页-->
            <div role="tabpanel" class="tab-pane waf-add" id="WAF-strategy-add"></div>
            <!--特征库-->
            <div role="tabpanel" class="tab-pane chara" id="application-characteristics"></div>
            <!--例外配置-->
            <div role="tabpanel" class="tab-pane" id="exceptions-configuration"></div>
            <!--例外配置添加页-->
            <div class="tab-pane con-add" id="exceptions-configuration-add"></div>
            <!--WEB漏扫-->
            <div role="tabpanel" class="tab-pane leak" id="WEB-leakage"></div>
            <!--自学习配置-->
            <div role="tabpanel" class="tab-pane stu" id="study-configuration"></div>
            <!--提示框-->
            <div class="tip-container">
                <div class="tip">
                    <button type="button" class="close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <p></p>
                    <div class="tip-footer">
                        <button type="button" class="btn">确定</button>
                        <button type="button" class="btn">取消</button>
                    </div>
                </div>
                <div class="tip1">
                    <button type="button" class="close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <img/>
                    <p></p>
                    <div class="tip-footer">
                        <button type="button" class="btn">知道了</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $("#WAF-strategy").load("data/security-policy/application-security-policy/WAF-strategy.html");//加载waf页面
    //设置主内容框的高度
    heightSet();
    position();//提示框位置
    //页签切换
    $(".nav-tabs li a").click(function () {
        var href = $(this)[0].hash;
        if (href === "#exceptions-configuration") {//例外配置
            $(href).load("data/security-policy/application-security-policy/exceptions-configuration.html");
        } else if (href === "#WEB-leakage") {//WEB扫漏
            $(href).load("data/security-policy/application-security-policy/WEB-leakage.html");
        } else if (href === "#WAF-strategy") {//WAF策略
            $(href).load("data/security-policy/application-security-policy/WAF-strategy.html");
        } else if (href === "#application-characteristics") {//特征库
            $(href).load("data/security-policy/application-security-policy/application-characteristics.html");
        } else if (href === "#study-configuration") {//自学习配置
            $(href).load("data/security-policy/application-security-policy/study-configuration.html");
        }
        $(this).siblings("span").addClass("selected");//标签下标识
    });
    //提示面板取消和关闭按键
    $(".tip-container .close,.tip-footer button").click(function () {
        tipC.hide();
    });
    //提示面板的确认键
    $(".tip .tip-footer button:first-child").click(function () {
        var text;
        if (li.hasClass("active")) {
            $.each(chb, function () {
                text = $(this).parent().siblings("[data-name='name']").text();
                if ($("#WAF-strategy").hasClass("active")) {
                    del(text, WAFIntrusion, "name", "WAFIntrusion");
                } else if ($("#exceptions-host").hasClass("active")) {
                    del(text, exceptions, "featureID", "exceptions");
                    if ($("#filter3").hasClass("active")) {
                        del(text, exceptions, "featureID", "filter3");
                    }
                } else if ($("#exceptions-configuration").hasClass("active")) {
                    del(text, configuration, "featureID", "configuration");
                }
            });
            li.removeClass("active");
        } else {
            text = child.parents("tr").children("[data-name='name']").text();
            if ($("#WAF-strategy").hasClass("active")) {
                del(text, WAFIntrusion, "name", "WAFIntrusion");
            } else if ($("#exceptions-host").hasClass("active")) {
                del(text, exceptions, "featureID", "exceptions");
                if ($("#filter3").hasClass("active")) {
                    del(text, exceptions, "featureID", "filter3");
                }
            } else if ($("#exceptions-configuration").hasClass("active")) {
                del(text, configuration, "featureID", "configuration");
            }
        }
    });
</script>